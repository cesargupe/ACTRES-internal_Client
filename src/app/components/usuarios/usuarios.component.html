<div *ngIf="session.identity && session.identity.role == 'ROLE_ADMIN'">

  <div class="row justify-content-md-center">

    <div class="col-12 col-lg-9">
      <table class="table table-bordered table-hover">
        <tbody *ngIf="users">

          <tr>
            <th class="card-title" scope="row">Username</th>
            <th class="card-title" scope="row">Team</th>
            <th class="card-title" scope="row">Role</th>
            <th class="card-title" scope="row">Actions</th>
          </tr>

          <tr *ngFor="let user of users; let i = index">
            <td class="text-justify">{{user.team}}</td>
            <td class="text-justify">{{user.place}}</td>
            <td class="text-justify">{{user.role}}</td>
            <td class="text-center">
              <button type="button" (click)="deleteUser(user._id, i)" class="btn btn-outline-danger">Eliminar</button>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <div class="new_user col-lg-3 col-md-5 col-12">
      <form ngNativeValidate #newUserForm="ngForm" (ngSubmit)="saveUser()">

        <h5 class="mb-3 text-center">New User</h5>

        <div class="form-group">
          <label>Username</label>
          <input #team="ngModel" name="team" [(ngModel)]="user.team" type="text" class="form-control" required/>
        </div>

        <div class="form-group">
          <label>Team</label>
          <input #place="ngModel" name="place" [(ngModel)]="user.place" type="text" class="form-control" required/>
        </div>

        <div class="form-group">
          <label>Password</label>
          <input #password="ngModel" name="password" [(ngModel)]="user.password" type="password" class="form-control" required/>
        </div>

        <div *ngIf="error" class="alert alert-danger text-center" role="alert">
          An error has occurred
        </div>

        <input type="submit" value="Save user" class="btn btn-primary btn-block mt-3" />

      </form>
    </div>

  </div>


</div>
